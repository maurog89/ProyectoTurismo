<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>ABM Domicilio - Alta</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="../js/buscar.js"></script>
    </head>
    <body>
        <form method="POST" action="../AltaDomicilio">
            <table>
                <thead>
                    <tr>
                        <th>ABM Domicilio - Alta </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><label for="Pais">Pais: </label></td>
                        <td><select name="Pais" id="Pais">
                                <option value="x0">---</option>
                            </select></td>
                    <tr>
                        <td><label for="Provincia">Provincia: </label></td>
                        <td><select name="Provincia" id="Provincia">
                                <option value="x0">---</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td><label for="Ciudad">Cuidad: </label></td>
                        <td><select name="Ciudad" id="Ciudad">
                                <option value="x0">---</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td><label for="Barrio">Barrio: </label></td>
                        <td><select name="Barrio" id="Barrio">
                                <option value="x0">---</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td><label for="calleDomicilio">Calle: </label></td>
                        <td><input type="text" name="calleDomicilio" id="calleDomicilio" /></td>
                    </tr>
                    <tr>
                        <td><label for="nroDomicilio">Número: </label></td>
                        <td><input type="text" name="nroDomicilio" id="nroDomicilio" value="" /></td>
                    </tr>
                    <tr>
                        <td><label for="nroPiso">Piso: </label></td>
                        <td><input type="text" name="nroPiso" id="nroPiso" value="" /></td>
                    </tr>
                    <tr>
                        <td><label for="departamentoDomicilio">Departamento: </label></td>
                        <td><input type="text" name="departamentoDomicilio" id="departamentoDomicilio" value="" /></td>
                    </tr>
                    <tr>
                        <td><label for="torreDomicilio">Torre: </label></td>
                        <td><input type="text" name="torreDomicilio" id="torreDomicilio" value="" /></td>
                    </tr>
                    <tr>
                        <td><label for="manzanaDomicilio">Manzana: </label></td>
                        <td><input type="text" name="manzanaDomicilio" id="manzanaDomicilio" value="" /></td>
                    </tr>
                    <tr>
                        <td><label for="loteDomicilio">Lote: </label></td>
                        <td><input type="text" name="loteDomicilio" id="loteDomicilio" value="" /></td>
                    </tr>
                    <tr>
                        <td><label for="codigoPostalDomicilio">Código Postal: </label></td>
                        <td><input type="text" name="codigoPostalDomicilio" id="codigoPostalDomicilio" value="" /></td>
                    </tr>
                    <tr>
                        <td><input type="submit" value="Enviar" name="envFactura" /></td>
                    </tr> 
                </tbody>
            </table>
        </form>
    </body>
    <script>
        // Guardo en variables los elementos que necesito del DOM
        var pais = document.getElementById("Pais");
        var provincia = document.getElementById("Provincia");
        var ciudad = document.getElementById("Ciudad");
        var barrio = document.getElementById("Barrio");
        
        //Funcion de cambiar provincia cuando cambia el pais
        pais.onchange = function(){            
            provincia.options.length = 0;
            agregarOpcion(provincia);
            var res = pais[pais.selectedIndex].value;
            buscar("Provincia",provincia,res);
        };
        
        //Funcion de cambiar ciudad cuando cambia la provincia
        provincia.onchange = function(){            
            ciudad.options.length = 0;
            agregarOpcion(ciudad);
            var res = provincia[provincia.selectedIndex].value;
            buscar("Ciudad",ciudad,res);
        };
        
        //Funcion de cambiar el barrio cuando cambia la ciudad
        ciudad.onchange = function(){            
            barrio.options.length = 0;
            agregarOpcion(barrio);
            var res = ciudad[ciudad.selectedIndex].value;
            buscar("Barrio",barrio,res);
        };
        
        /*
         * Buscar elementos en la base de datos
         * y llenar los campos
         */
        buscar("Pais",pais);
        
        //Funcion usada para agregar una opcion ---
        function agregarOpcion(sel){
            var select = document.createElement("Select");
            var option = document.createElement("Option");
            option.setAttribute("value","x0");
            option.innerHTML = "---";
            sel.appendChild(option);
        };
        
    </script>
</html>
