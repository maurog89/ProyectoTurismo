<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>ABM Permisos - Alta</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="../js/buscar.js"></script>
    </head>
    <body>
        <form method="POST" action="../AltaPermiso">
            <table>
                <thead>
                    <tr>
                        <th>ABM Permisos - Alta </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><label for="TipoPermiso">Tipo Permiso: </label></td>
                        <td><select name="TipoPermiso" id="TipoPermiso">
                                <option value="x0">---</option>
                            </select>
                            <input type="text" name="idPermiso" id="idPermiso" value="" />
                        </td>
                    </tr> 
                    <tr>
                        <td><label for="Usuario:">Usuario: </label></td>
                        <td><select name="Usuario:" id="Usuario:">
                                <option value="x0">---</option>
                            </select>
                            <input type="text" name="idUsuario" id="idUsuario" value="" />
                        </td>
                    </tr>   
                    <tr>
                        <td><label for="descripcionPermisos">Descripcion: </label></td>
                        <td><textarea name="descripcionPermisos" id="descripcionProvincia" /></textarea></td>
                    </tr>                    
                    <tr>
                        <td><input type="submit" value="Enviar" name="envPermisos" /></td>
                    </tr>       
                </tbody>
            </table>
        </form>
    </body>
    <script>
        var idUsuario = document.getElementById("idUsuario");
        var UsuarioSel = document.getElementById("Usuario");
        var TipoPermiso = document.getElementById("TipoPermiso");
        var idTipoPermiso = document.getElementById("idPermiso");
        
        buscar("Usuarios",UsuarioSel);
        buscar("TipoPermiso",TipoPermiso); 
        
        /* 
         * Manejo los eventos        
        */
       
       // Funcion de cambia automaticamente el cliente
        idUsuario.onchange = function(){
            var index = 0;
            for(var i = 0;i<UsuarioSel.length;i++){
                if(UsuarioSel[i].value == idUsuario.value)
                    index = i;                             
            }            
            UsuarioSel[index].selected = true;
        };
        UsuarioSel.onchange = function(){
            if(this.value != "x0")
                idUsuario.value = UsuarioSel[UsuarioSel.selectedIndex].value;
            else
                idUsuario.value = "";
        };
        
        // Funcion de cambia automaticamente de Tipo Permiso
        idTipoPermiso.onchange = function(){
            var index = 0;
            for(var i = 0;i<TipoPermiso.length;i++){
                if(TipoPermiso[i].value == idTipoPermiso.value){
                    index = i;
                    break;
                }
                                               
            }            
            TipoPermiso[index].selected = true;
        };
        TipoPermiso.onchange = function(){
            if(this.value != "x0")
                idTipoPermiso.value = TipoPermiso[TipoPermiso.selectedIndex].value;
            else
                idTipoPermiso.value = "";
        };
    </script>
</html>